<html>
<head>
<meta charset="utf-8">
<title>Slideshow Snapshots</title>
<script type="text/javascript" src="../../3rdparty/soundmanager2-nodebug-jsmin.js"></script>
<script type="text/javascript" src="../../wgeCore.js"></script>
<script type="text/javascript" src="../../wgeAlgorithm.js"></script>
<script type="text/javascript" src="../../wgeGUI.js"></script>
<script type="text/javascript" src="../../wgeAnimation.js"></script>
<script type="text/javascript" src="../../extends/wgeExtendActions.js"></script>
<script type="text/javascript" src="../../extends/wgeExtendFunctions.js"></script>
<script type="text/javascript" src="../wgeFilters.js"></script>
<script type="text/javascript" src="../wgeSprite.js"></script>
<script type="text/javascript" src="../wgeSlideshow.js"></script>
<script type="text/javascript" src="snapshots.js"></script>
</head>
<body >
<script type="text/javascript">

var div = WGE.CE("div");
div.setAttribute("style", "width:" + WGE.SlideshowSettings.width + "px;height:" + WGE.SlideshowSettings.height + "px;border:groove;background-color:#000");
div.id = "demoContent";
document.body.appendChild(div);

//加载所需资源图片。
var imageArr = [];

for(var i = 0; i != 5; ++i)
	imageArr.push("../../res/test2.jpg");

var len = imageArr.length;


var slideshow = new WGE.Snapshots(div, imageArr, finishLoadAll, finishLoadOne);

// 加载完全部
function finishLoadAll(imgArr, slideshowThis)
{
	slideshowThis.context.clearRect(0, 0, slideshowThis.canvas.width, slideshowThis.canvas.height);
	slideshowThis.context.fillStyle = "#0f0";
	slideshowThis.context.fillText("图片加载完毕，初始场景...", 10, slideshowThis.canvas.height / 2);
	slideshowThis.play();
}

//加载完单张
function finishLoadOne(img, n, slideshowThis)
{
	slideshow.context.clearRect(0, 0, slideshow.canvas.width, slideshow.canvas.height);
	slideshowThis.context.fillStyle = "#0f0";
	slideshow.context.fillText("加载图片: 第" + n + "张，共" + len + "张", 10, slideshow.canvas.height / 2);
}

slideshow.context.font = "32px Aria";
slideshow.context.fillText("初始化中", 10, slideshow.canvas.height / 2);


</script>
</body>
</html>